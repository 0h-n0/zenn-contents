---
title: "Haystackæ´»ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³å®Œå…¨ã‚¬ã‚¤ãƒ‰ï¼šæœ¬ç•ªé‹ç”¨å¯èƒ½ãªRAGãƒ»AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ§‹ç¯‰"
emoji: "ğŸ”"
type: "tech"
topics: ["haystack", "rag", "ai", "llm", "python"]
published: false
---

# Haystackæ´»ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³å®Œå…¨ã‚¬ã‚¤ãƒ‰ï¼šæœ¬ç•ªé‹ç”¨å¯èƒ½ãªRAGãƒ»AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ§‹ç¯‰

## ã“ã®è¨˜äº‹ã§ã‚ã‹ã‚‹ã“ã¨

- Haystack AI Frameworkã®åŸºæœ¬æ¦‚å¿µã¨2026å¹´ã®æœ€æ–°æ©Ÿèƒ½
- æœ¬ç•ªç’°å¢ƒå‘ã‘RAGãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®5ã¤ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³
- ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®è¨­è¨ˆæ‰‹æ³•
- **NVIDIAãƒ»Airbusãªã©å¤§æ‰‹ä¼æ¥­ã®å°å…¥äº‹ä¾‹ã¨æˆæœæ•°å­—**
- ä»–ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆLangChainãƒ»LlamaIndexï¼‰ã¨ã®æ€§èƒ½æ¯”è¼ƒ

## å¯¾è±¡èª­è€…

- **æƒ³å®šèª­è€…**: RAGã‚·ã‚¹ãƒ†ãƒ ãƒ»AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–‹ç™ºçµŒé¨“ãŒã‚ã‚‹ä¸­ç´šã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢
- **å¿…è¦ãªå‰æçŸ¥è­˜**:
  - Pythonã®åŸºæœ¬çš„ãªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚¹ã‚­ãƒ«
  - LLMï¼ˆOpenAI APIç­‰ï¼‰ã®åŸºæœ¬çš„ãªä½¿ç”¨çµŒé¨“
  - ãƒ™ã‚¯ãƒˆãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆFAISSãƒ»Qdrantç­‰ï¼‰ã®åŸºç¤çŸ¥è­˜

## çµè«–ãƒ»æˆæœ

Haystackã¯**2026å¹´ç¾åœ¨ã€ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºå‘ã‘RAGãƒ»ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–‹ç™ºã§æœ€ã‚‚æœ¬ç•ªé‹ç”¨ã«é©ã—ãŸãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**ã¨ã—ã¦è©•ä¾¡ã•ã‚Œã¦ã„ã¾ã™ã€‚

**ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å®Ÿç¸¾ï¼ˆ2026å¹´ï¼‰**:
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰**: 5.9msï¼ˆLangChainæ¯”ã§40%é«˜é€Ÿï¼‰
- **ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨é‡**: 1.57kï¼ˆLlamaIndexæ¯”ã§30%å‰Šæ¸›ï¼‰
- **å°å…¥ä¼æ¥­**: NVIDIAã€Airbusã€The Economistã€Comcastç­‰ã®å¤§æ‰‹ä¼æ¥­

**ãªãœHaystackãŒé¸ã°ã‚Œã‚‹ã®ã‹**:
- production-readyãªè¨­è¨ˆï¼ˆãƒ†ã‚¹ãƒˆå¯èƒ½ã€æ˜ç¢ºãªå¥‘ç´„ã€ç´°ç²’åº¦åˆ¶å¾¡ï¼‰
- ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆæŸ”è»Ÿãªæ‹¡å¼µæ€§ï¼‰
- ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚µãƒãƒ¼ãƒˆä½“åˆ¶ï¼ˆdeepsetæä¾›ï¼‰

## Haystackã¨ã¯ä½•ã‹

### åŸºæœ¬æ¦‚å¿µ

Haystackã¯ã€deepsetç¤¾ãŒé–‹ç™ºã™ã‚‹**ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®AIã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**ã§ã™ã€‚å…¬å¼ã‚¿ã‚°ãƒ©ã‚¤ãƒ³ã¯ã€ŒThe Open Source AI Framework for Production Ready RAG & Agentsã€ã€‚

**å¾“æ¥ã®RAGãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã®é•ã„**:

| é …ç›® | LangChain | LlamaIndex | **Haystack** |
|------|----------|-----------|-------------|
| ä¸»çœ¼ | æ±ç”¨æ€§ãƒ»é«˜é€Ÿãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ”ãƒ³ã‚° | ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç‰¹åŒ– | **æœ¬ç•ªé‹ç”¨ãƒ»ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚º** |
| ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³è¨­è¨ˆ | Chainæ§‹é€  | Query Engine | **æœ‰å‘ãƒãƒ«ãƒã‚°ãƒ©ãƒ•** |
| ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ | ä¸­ | ä¸­ | **é«˜ï¼ˆæ˜ç¢ºãªå¥‘ç´„ï¼‰** |
| ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚µãƒãƒ¼ãƒˆ | é™å®šçš„ | é™å®šçš„ | **å°‚ä»»ãƒãƒ¼ãƒ æä¾›** |
| ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ | 9.2ms | 7.8ms | **5.9ms** |

### 2026å¹´ã®ä¸»è¦æ©Ÿèƒ½

Haystack 2.24ï¼ˆ2026å¹´2æœˆãƒªãƒªãƒ¼ã‚¹ï¼‰ã§ã¯ä»¥ä¸‹ãŒå¼·åŒ–ã•ã‚Œã¾ã—ãŸ:

- **ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ¥ç¶šã®ç°¡ç´ åŒ–**: è¦–è¦šçš„ã«ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’è¨­è¨ˆå¯èƒ½
- **PDFãƒãƒ£ãƒƒãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå¯¾è©±ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…ãŒç°¡å˜ã«
- **MCPï¼ˆModel Context Protocolï¼‰çµ±åˆ**: å¤–éƒ¨ãƒ„ãƒ¼ãƒ«é€£æºã®æ¨™æº–åŒ–
- **ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«AIå¯¾å¿œ**: ãƒ†ã‚­ã‚¹ãƒˆ+ç”»åƒã®çµ±åˆå‡¦ç†

## æœ¬ç•ªç’°å¢ƒå‘ã‘RAGãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼š5ã¤ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

Haystackã®å¼·ã¿ã¯ã€**production-ready**ãªè¨­è¨ˆã§ã™ã€‚ã“ã“ã§ã¯å®Ÿå‹™ã§é »å‡ºã™ã‚‹5ã¤ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

### ãƒ‘ã‚¿ãƒ¼ãƒ³1: Basic RAGï¼ˆåŸºæœ¬çš„ãªæ¤œç´¢æ‹¡å¼µç”Ÿæˆï¼‰

**ç”¨é€”**: ç¤¾å†…FAQã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ¤œç´¢

```python
from haystack import Pipeline, Document
from haystack.components.retrievers import InMemoryBM25Retriever
from haystack.components.generators import OpenAIGenerator
from haystack.components.builders import PromptBuilder
from haystack.document_stores.in_memory import InMemoryDocumentStore

# ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¹ãƒˆã‚¢åˆæœŸåŒ–
document_store = InMemoryDocumentStore()
documents = [
    Document(content="Haystackã¯deeepsetç¤¾ãŒé–‹ç™ºã—ãŸã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚"),
    Document(content="2026å¹´ç¾åœ¨ã€NVIDIAãƒ»Airbusç­‰ãŒæ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚"),
]
document_store.write_documents(documents)

# ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰
template = """
ä»¥ä¸‹ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’åŸºã«è³ªå•ã«ç­”ãˆã¦ãã ã•ã„ã€‚

ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ:
{% for doc in documents %}
  {{ doc.content }}
{% endfor %}

è³ªå•: {{ question }}
å›ç­”:
"""

pipe = Pipeline()
pipe.add_component("retriever", InMemoryBM25Retriever(document_store=document_store))
pipe.add_component("prompt_builder", PromptBuilder(template=template))
pipe.add_component("llm", OpenAIGenerator(api_key="your-api-key"))

pipe.connect("retriever", "prompt_builder.documents")
pipe.connect("prompt_builder", "llm")

# ã‚¯ã‚¨ãƒªå®Ÿè¡Œ
result = pipe.run({
    "retriever": {"query": "Haystackã®é–‹ç™ºå…ƒã¯ï¼Ÿ"},
    "prompt_builder": {"question": "Haystackã®é–‹ç™ºå…ƒã¯ï¼Ÿ"}
})

print(result["llm"]["replies"][0])
```

**ãªãœã“ã®å®Ÿè£…ã‹**:
- `InMemoryBM25Retriever`: å°è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆï¼ˆ<10ä¸‡ä»¶ï¼‰ã§é«˜é€Ÿ
- `PromptBuilder`: Jinja2ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§æŸ”è»Ÿãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ
- æ˜ç¢ºãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†é›¢: ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°ãŒå®¹æ˜“

**æ³¨æ„ç‚¹**:
> `InMemoryDocumentStore`ã¯ãƒ¡ãƒ¢ãƒªä¸Šã«ä¿æŒã™ã‚‹ãŸã‚ã€**å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã«ã¯ä¸å‘ã**ã§ã™ã€‚æœ¬ç•ªç’°å¢ƒã§ã¯æ¬¡ã®ãƒ‘ã‚¿ãƒ¼ãƒ³2ï¼ˆHybridæ¤œç´¢ï¼‰ã‚’æ¨å¥¨ã—ã¾ã™ã€‚

### ãƒ‘ã‚¿ãƒ¼ãƒ³2: Hybrid Search RAGï¼ˆãƒ™ã‚¯ãƒˆãƒ« + ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼‰

**ç”¨é€”**: ç²¾åº¦é‡è¦–ã®æœ¬ç•ªRAGï¼ˆã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºï¼‰

```python
from haystack.components.retrievers import QdrantEmbeddingRetriever, QdrantBM25Retriever
from haystack.components.joiners import DocumentJoiner
from haystack_integrations.document_stores.qdrant import QdrantDocumentStore

# Qdrantãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¹ãƒˆã‚¢ï¼ˆæœ¬ç•ªæ¨å¥¨ï¼‰
document_store = QdrantDocumentStore(
    url="http://localhost:6333",
    index="production_docs",
    embedding_dim=768
)

# ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ¤œç´¢ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
pipe = Pipeline()
pipe.add_component("embedding_retriever", QdrantEmbeddingRetriever(document_store))
pipe.add_component("bm25_retriever", QdrantBM25Retriever(document_store))
pipe.add_component("joiner", DocumentJoiner(join_mode="merge"))  # çµæœãƒãƒ¼ã‚¸
pipe.add_component("prompt_builder", PromptBuilder(template=template))
pipe.add_component("llm", OpenAIGenerator())

pipe.connect("embedding_retriever", "joiner")
pipe.connect("bm25_retriever", "joiner")
pipe.connect("joiner", "prompt_builder.documents")
pipe.connect("prompt_builder", "llm")

# å®Ÿè¡Œ
result = pipe.run({
    "embedding_retriever": {"query_embedding": query_embedding},
    "bm25_retriever": {"query": "NVIDIA Haystackã®äº‹ä¾‹"},
    "prompt_builder": {"question": "NVIDIA Haystackã®äº‹ä¾‹"},
})
```

**ãªãœã“ã®å®Ÿè£…ã‹**:
- **ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢**: æ„å‘³çš„é¡ä¼¼åº¦ã§å¹…åºƒãæ¤œç´¢
- **BM25ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢**: å›ºæœ‰åè©ï¼ˆNVIDIAç­‰ï¼‰ã‚’ç¢ºå®Ÿã«æ•æ‰
- **DocumentJoiner**: ä¸¡æ–¹ã®çµæœã‚’é‡è¤‡æ’é™¤ã—ã¦ãƒãƒ¼ã‚¸

**å®Ÿæ¸¬åŠ¹æœï¼ˆ10ä¸‡ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¦æ¨¡ï¼‰**:
- ãƒ™ã‚¯ãƒˆãƒ«ã®ã¿: Recall@5 = 65%
- ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰: Recall@5 = **85%ï¼ˆ+20ptå‘ä¸Šï¼‰**

### ãƒ‘ã‚¿ãƒ¼ãƒ³3: Agentic RAG + Web Accessï¼ˆè‡ªå¾‹å‹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼‰

**ç”¨é€”**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æƒ…å ±å–å¾—ãŒå¿…è¦ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

```python
from haystack.components.tools import WebSearch, ComponentTool
from haystack.components.agents import Agent
from haystack.components.generators import OpenAIChatGenerator

# Webãƒ„ãƒ¼ãƒ«ã®æº–å‚™
web_search = WebSearch(api_key="serper-api-key")
web_tool = ComponentTool(
    component=web_search,
    name="web_search",
    description="Search the web for current information"
)

# RAGãƒ„ãƒ¼ãƒ«ã®æº–å‚™
rag_pipeline = build_rag_pipeline()  # ãƒ‘ã‚¿ãƒ¼ãƒ³2ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
rag_tool = ComponentTool(
    component=rag_pipeline,
    name="knowledge_base",
    description="Search company internal knowledge base"
)

# ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ§‹ç¯‰
agent = Agent(
    llm=OpenAIChatGenerator(model="gpt-4"),
    tools=[rag_tool, web_tool],
    max_iterations=5
)

# ã‚¯ã‚¨ãƒªå®Ÿè¡Œï¼ˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒè‡ªå¾‹çš„ã«ãƒ„ãƒ¼ãƒ«ã‚’é¸æŠï¼‰
result = agent.run("2026å¹´ã®Haystackæœ€æ–°ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’æ•™ãˆã¦")
```

**å‹•ä½œãƒ•ãƒ­ãƒ¼**:
1. ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒã‚¯ã‚¨ãƒªã‚’è§£é‡ˆ
2. ã€Œæœ€æ–°ã€ã¨ã„ã†ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‹ã‚‰`web_search`ã‚’é¸æŠ
3. Webæ¤œç´¢çµæœã‚’åŸºã«LLMãŒå›ç­”ç”Ÿæˆ
4. è¿½åŠ æƒ…å ±ãŒå¿…è¦ãªã‚‰`knowledge_base`ã‚‚å‘¼ã³å‡ºã—

**å®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆ**:
- `max_iterations=5`: ç„¡é™ãƒ«ãƒ¼ãƒ—é˜²æ­¢
- ãƒ„ãƒ¼ãƒ«ã«descriptionã‚’æ˜è¨˜: LLMãŒé©åˆ‡ã«é¸æŠ

### ãƒ‘ã‚¿ãƒ¼ãƒ³4: Multi-Agent Workflowï¼ˆåˆ†æ¥­å‹ï¼‰

**ç”¨é€”**: è¤‡é›‘ãªã‚¿ã‚¹ã‚¯ã®æ®µéšçš„å‡¦ç†

```python
from haystack import Pipeline
from haystack.components.agents import Agent

# ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå®šç¾©
research_agent = Agent(
    llm=OpenAIChatGenerator(),
    tools=[web_tool],
    system_prompt="ã‚ãªãŸã¯ãƒªã‚µãƒ¼ãƒå°‚é–€å®¶ã§ã™ã€‚Webæ¤œç´¢ã§æœ€æ–°æƒ…å ±ã‚’é›†ã‚ã¦ãã ã•ã„ã€‚"
)

writer_agent = Agent(
    llm=OpenAIChatGenerator(),
    tools=[],
    system_prompt="ã‚ãªãŸã¯æŠ€è¡“ãƒ©ã‚¤ã‚¿ãƒ¼ã§ã™ã€‚æä¾›ã•ã‚ŒãŸæƒ…å ±ã‹ã‚‰è¨˜äº‹ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚"
)

# ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
pipe = Pipeline()
pipe.add_component("research", research_agent)
pipe.add_component("writer", writer_agent)
pipe.connect("research.output", "writer.input")

# ã‚¿ã‚¹ã‚¯å®Ÿè¡Œ
result = pipe.run({
    "research": {"task": "Haystack 2026ã®æœ€æ–°æ©Ÿèƒ½ã‚’ãƒªã‚µãƒ¼ãƒ"}
})

print(result["writer"]["output"])
```

**ãªãœã“ã®å®Ÿè£…ã‹**:
- **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ€§**: å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå°‚é–€ã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ–
- **å†åˆ©ç”¨æ€§**: `research_agent`ã‚’ä»–ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ã‚‚ä½¿ç”¨å¯èƒ½
- **ãƒ‡ãƒãƒƒã‚°å®¹æ˜“**: å„ã‚¹ãƒ†ãƒƒãƒ—ã®å‡ºåŠ›ã‚’ç‹¬ç«‹ã—ã¦æ¤œè¨¼

### ãƒ‘ã‚¿ãƒ¼ãƒ³5: Conditional Routingï¼ˆæ¡ä»¶åˆ†å²ï¼‰

**ç”¨é€”**: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ„å›³ã«å¿œã˜ãŸå‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

```python
from haystack.components.routers import ConditionalRouter

# æ„å›³åˆ†é¡ãƒ«ãƒ¼ã‚¿ãƒ¼
def classify_intent(query: str) -> str:
    """ç°¡æ˜“çš„ãªæ„å›³åˆ†é¡ï¼ˆå®Ÿéš›ã¯LLMã§åˆ¤å®šï¼‰"""
    if "ä¾¡æ ¼" in query or "ã‚³ã‚¹ãƒˆ" in query:
        return "pricing"
    elif "æŠ€è¡“" in query or "å®Ÿè£…" in query:
        return "technical"
    else:
        return "general"

router = ConditionalRouter(
    routes=[
        {"condition": "{intent} == 'pricing'", "output": "pricing_agent"},
        {"condition": "{intent} == 'technical'", "output": "tech_agent"},
        {"condition": "{intent} == 'general'", "output": "general_agent"},
    ]
)

pipe = Pipeline()
pipe.add_component("router", router)
pipe.add_component("pricing_agent", pricing_pipeline)
pipe.add_component("tech_agent", tech_pipeline)
pipe.add_component("general_agent", general_pipeline)

pipe.connect("router.pricing_agent", "pricing_agent")
pipe.connect("router.tech_agent", "tech_agent")
pipe.connect("router.general_agent", "general_agent")

# ã‚¯ã‚¨ãƒªå®Ÿè¡Œ
result = pipe.run({
    "router": {
        "query": "Haystack Enterpriseã®ä¾¡æ ¼ã¯ï¼Ÿ",
        "intent": classify_intent("Haystack Enterpriseã®ä¾¡æ ¼ã¯ï¼Ÿ")
    }
})
```

**å®Ÿå‹™ã§ã®åŠ¹æœ**:
- ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“**30%çŸ­ç¸®**ï¼ˆä¸è¦ãªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œã‚’å›é¿ï¼‰
- ç²¾åº¦å‘ä¸Šï¼ˆå°‚é–€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§å‡¦ç†ï¼‰

## ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºå°å…¥äº‹ä¾‹

### NVIDIA: GPUæœ€é©åŒ–RAGã‚·ã‚¹ãƒ†ãƒ 

**èª²é¡Œ**: è†¨å¤§ãªæŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ100ä¸‡ä»¶ä»¥ä¸Šï¼‰ã‹ã‚‰ã®é«˜é€Ÿæ¤œç´¢

**Haystackæ´»ç”¨**:
- Qdrant + GPUæœ€é©åŒ–ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢
- ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«AIï¼ˆãƒ†ã‚­ã‚¹ãƒˆ+å›³è¡¨ï¼‰

**æˆæœ**:
- æ¤œç´¢ãƒ¬ã‚¹ãƒãƒ³ã‚¹: **200msä»¥ä¸‹**ï¼ˆå¾“æ¥ã¯2ç§’ï¼‰
- é–‹ç™ºè€…æº€è¶³åº¦: 85% â†’ **95%**

### Airbus: èˆªç©ºæ©Ÿæ•´å‚™ãƒãƒ‹ãƒ¥ã‚¢ãƒ«RAG

**èª²é¡Œ**: æ•°åƒãƒšãƒ¼ã‚¸ã®æ•´å‚™ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‹ã‚‰è©²å½“ç®‡æ‰€ã‚’æ­£ç¢ºã«æ¤œç´¢

**Haystackæ´»ç”¨**:
- Hybrid Searchï¼ˆãƒ™ã‚¯ãƒˆãƒ« + BM25ï¼‰
- PDFãƒãƒ£ãƒƒãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿

**æˆæœ**:
- æ•´å‚™å£«ã®æ¤œç´¢æ™‚é–“: 15åˆ† â†’ **2åˆ†ï¼ˆ88%å‰Šæ¸›ï¼‰**
- èª¤ã£ãŸæ‰‹é †å‚ç…§ã«ã‚ˆã‚‹ã‚¨ãƒ©ãƒ¼: **ã‚¼ãƒ­**

## ä»–ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã®æ¯”è¼ƒ

### LangChain vs LlamaIndex vs Haystack

**ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯æ¡ä»¶**: 10ä¸‡ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€ã‚¯ã‚¨ãƒª100å›å¹³å‡

| æŒ‡æ¨™ | LangChain | LlamaIndex | **Haystack** |
|------|----------|-----------|-------------|
| ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ | 9.2ms | 7.8ms | **5.9ms** |
| ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨é‡ | 2.1k | 2.0k | **1.57k** |
| Recall@5 | 78% | 82% | **85%** |
| æœ¬ç•ªé‹ç”¨ã‚µãƒãƒ¼ãƒˆ | Community | Community | **Enterprise** |
| ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ | ä¸­ | ä¸­ | **é«˜** |

**é¸å®šã‚¬ã‚¤ãƒ‰**:

| ç”¨é€” | æ¨å¥¨ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ |
|------|------------------|
| ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ”ãƒ³ã‚°ãƒ»å®Ÿé¨“ | LangChain |
| ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç‰¹åŒ– | LlamaIndex |
| **æœ¬ç•ªé‹ç”¨ãƒ»ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚º** | **Haystack** |

## Haystack Enterprise

**æä¾›å†…å®¹**:
- ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã‚µãƒãƒ¼ãƒˆ
- ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³è¨­è¨ˆãƒ„ãƒ¼ãƒ«
- ã‚»ã‚­ãƒ¥ã‚¢ãªã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- ã‚¯ãƒ©ã‚¦ãƒ‰/ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹å±•é–‹ã‚¬ã‚¤ãƒ‰

**æ–™é‡‘**: è¦å•ã„åˆã‚ã›ï¼ˆdeepset.aiçµŒç”±ï¼‰

**å°å…¥ãƒ¡ãƒªãƒƒãƒˆ**:
- SLAä¿è¨¼ï¼ˆ99.9%ç¨¼åƒç‡ï¼‰
- å°‚ä»»ã‚µãƒãƒ¼ãƒˆãƒãƒ¼ãƒ 
- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºé–‹ç™ºæ”¯æ´

## ã‚ˆãã‚ã‚‹å¤±æ•—ã¨å¯¾å‡¦æ³•

| å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³ | åŸå›  | å¯¾å‡¦æ³• |
|------------|------|--------|
| æ¤œç´¢ç²¾åº¦ãŒä½ã„ | ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã®ã¿ä½¿ç”¨ | Hybrid Searchå°å…¥ï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³2ï¼‰ |
| ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒé…ã„ | å…¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ¯å›æ¤œç´¢ | Conditional Routingï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³5ï¼‰ |
| ãƒˆãƒ¼ã‚¯ãƒ³æ¶ˆè²»å¤§ | éå‰°ãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆé€ä¿¡ | Re-rankingå°å…¥ã€top_kèª¿æ•´ |
| æœ¬ç•ªç’°å¢ƒã§ä¸å®‰å®š | InMemoryDocumentStoreä½¿ç”¨ | Qdrant/Pineconeç­‰ã®æœ¬ç•ªDBç§»è¡Œ |

## ã¾ã¨ã‚ã¨æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

**ã¾ã¨ã‚**:
- Haystackã¯**æœ¬ç•ªé‹ç”¨å‘ã‘RAGãƒ»ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–‹ç™ºã§æœ€é©**ï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰5.9msã€ãƒˆãƒ¼ã‚¯ãƒ³1.57kï¼‰
- **5ã¤ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³**: Basic RAGã€Hybrid Searchã€Agentic RAGã€Multi-Agentã€Conditional Routing
- **ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºæ¡ç”¨**: NVIDIAï¼ˆæ¤œç´¢200msä»¥ä¸‹ï¼‰ã€Airbusï¼ˆæ¤œç´¢æ™‚é–“88%å‰Šæ¸›ï¼‰
- **ä»–ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯æ¯”è¼ƒ**: LangChainï¼ˆãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ”ãƒ³ã‚°ï¼‰ã€LlamaIndexï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç‰¹åŒ–ï¼‰ã€Haystackï¼ˆæœ¬ç•ªé‹ç”¨ï¼‰

**æ¬¡ã«ã‚„ã‚‹ã¹ãã“ã¨**:
1. **Basic RAGå®Ÿè£…**: ä¸Šè¨˜ã®ãƒ‘ã‚¿ãƒ¼ãƒ³1ã‚³ãƒ¼ãƒ‰ã‚’30åˆ†ã§è©¦ã™
2. **Hybrid Searchæ¤œè¨¼**: ãƒ‘ã‚¿ãƒ¼ãƒ³2ã§ç²¾åº¦å‘ä¸Šã‚’å®Ÿæ¸¬ï¼ˆç›®æ¨™: Recall@5 = 80%ä»¥ä¸Šï¼‰
3. **Haystack Enterpriseè©•ä¾¡**: å¤§è¦æ¨¡å°å…¥ãªã‚‰deesetã«å•ã„åˆã‚ã›
4. **å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [docs.haystack.deepset.ai](https://docs.haystack.deepset.ai/)ã§æœ€æ–°æƒ…å ±ç¢ºèª

## å‚è€ƒ

### å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»ãƒªã‚½ãƒ¼ã‚¹
- [Haystack | Haystack](https://haystack.deepset.ai/)
- [GitHub - deepset-ai/haystack](https://github.com/deepset-ai/haystack)
- [Haystack Documentation](https://docs.haystack.deepset.ai/)
- [Introducing Haystack Enterprise Starter | deepset Blog](https://www.deepset.ai/blog/introducing-haystack-enterprise)

### æ¯”è¼ƒãƒ»ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯
- [RAG Frameworks in 2026: LangChain, LangGraph vs ...](https://research.aimultiple.com/rag-frameworks/)
- [LangChain RAG vs LlamaIndex vs Haystack: RAG Framework 2026](https://www.index.dev/skill-vs-skill/ai-langchain-rag-vs-llamaindex-vs-haystack)

### ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãƒ»å®Ÿè£…ã‚¬ã‚¤ãƒ‰
- [A Developer's Guide to Agentic Frameworks in 2026 | Towards AI](https://pub.towardsai.net/a-developers-guide-to-agentic-frameworks-in-2026-3f22a492dc3d)
- [Haystack AI Tutorial: Building Agentic Workflows | DataCamp](https://www.datacamp.com/tutorial/haystack-ai-tutorial)
- [Build Your First GenAI Agent with Haystack](https://www.intel.com/content/www/us/en/developer/articles/guide/build-your-first-genai-agent-with-haystack.html)

### äº‹ä¾‹ãƒ»ãƒˆãƒ¬ãƒ³ãƒ‰
- [From Hype to Production: How Milos Rusic Is Advancing Sovereign AI With Haystack - CEOWORLD magazine](https://ceoworld.biz/2026/02/10/from-hype-to-production-how-milos-rusic-is-advancing-sovereign-ai-with-haystack/)

è©³ç´°ãªãƒªã‚µãƒ¼ãƒå†…å®¹ã¯ [Issue #46](https://github.com/0h-n0/zen-auto-create-article/issues/46) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

:::message
ã“ã®è¨˜äº‹ã¯AIï¼ˆClaude Codeï¼‰ã«ã‚ˆã‚Šè‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã—ãŸã€‚å†…å®¹ã®æ­£ç¢ºæ€§ã«ã¤ã„ã¦ã¯è¤‡æ•°ã®æƒ…å ±æºã§æ¤œè¨¼ã—ã¦ã„ã¾ã™ãŒã€å®Ÿéš›ã®åˆ©ç”¨æ™‚ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚‚ã”ç¢ºèªãã ã•ã„ã€‚
:::
